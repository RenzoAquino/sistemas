@import models.sgv.Contacto
@import controllers.dto.ContactoDTO
@import repository.sgv.ParametroService

@(contactoDTOForm: Form[ContactoDTO], contactos : List[Contacto])

@import views.html.partials._contactoFormsFieldsViewList
@import helper._

@layout("Todos los contactos"){

    <div class="modal fade" id="fooModal"></div>
    <div class="row">
        <div class="col-md-12">
                <!-- https://www.w3schools.com/bootstrap/bootstrap_panels.asp -->
            <div class="panel panel-primary">
                <div class="panel-heading"><h3>BUSQUEDA DE CONTACTO</h3></div>
                <div class="panel-body">

                    <div class="row">
                        <div class="col-md-4">
                            @helper.inputText(contactoDTOForm("codigo"),
                                '_label -> "Codigo",
                                'class ->"form-control",
                                'placeholder -> "Ingresar CÃ³digo",
                                'maxlength->"10")
                        </div>
                        <div class="col-md-4">
                            @helper.inputText(contactoDTOForm("numero"),
                                '_label -> "DNI / RUC",
                                'class ->"form-control",
                                'placeholder -> "Ingresar DNI / RUC",
                                '_error -> contactoDTOForm("numero").error.map(_.withMessage("Ingresar DNI /RUC")))
                        </div>
                        <div class="col-md-4">
                            @select(
                                contactoDTOForm("tipoPersona.id.codigo"),
                                options = ParametroService.cargarTipoPersonaSeq.map(dto => dto.id.codigo -> dto.valor),
                                'class ->"form-control",
                                '_label -> "Tipo de Persona",
                                '_error -> contactoDTOForm("tipoPersona.id.codigo").error.map(_.withMessage("Seleccionar Tipo de Persona")))
                        </div>
                    </div>

                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-md-4">
                        </div>
                        <div class="col-md-4" align="center">
                            <a class="btn btn-primary" href="@routes.ContactoController.inicio(contactoDTOForm.get().tipoContacto)">
                                <i class="glyphicon glyphicon-search"></i>
                                Buscar
                            </a>
                            <a class="btn btn-success" href="@routes.ContactoController.crear(contactoDTOForm.get().tipoContacto)">
                                <i class="glyphicon glyphicon-floppy-save"></i>
                                Crear
                            </a>
                        </div>
                        <div class="col-md-4">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <hr/>
                    </div>
                </div>
                <div class="panel-body">




    <table class="table table-bordered table-striped" id="dashboard-table">
        <thead>
            <tr>
                <th>*</th>
                <th>Persona</th>
                <th>DNI / RUC</th>
                <th>Nombre / Razon Social</th>
                <th>Correo E.</th>
                <th>Telefono Fijo</th>
                <th>Telefono Movil</th>
                <th>Pag. Web</th>
            </tr>
        </thead>
        <tbody>
        @for(contacto <- contactos) {
            @_contactoFormsFieldsViewList(contacto)
        }
        </tbody>
    </table>

                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-md-4">
                        </div>
                        <div class="col-md-4" align="center">

                        </div>
                        <div class="col-md-4">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

        <!--a  class="btn btn-success" href="@routes.DocumentoController.crear()">
    <i class="glyphicon glyphicon-plus-sign" ></i>
    Crear Documento
    </a-->
}

<script src="@routes.Assets.versioned("js/maestro.contacto.js")" type="text/javascript"></script>